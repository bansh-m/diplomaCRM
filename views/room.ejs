<!DOCTYPE html>
<html lang="en">
<%- include('layouts/header'); -%>
<body>
    <div class="d-flex">
        <%- include('layouts/sidebar'); -%>
        <main class="flex-grow-1">
            <div class="container mt-4">
                <div class="room-body">
                    <form id="roomForm">
                        <div class="mb-3">
                            <label for="roomName" class="form-label">Name:</label>
                            <input type="text" id="roomName" class="form-control" value="<%= room.name %>" disabled>
                        </div>
                        <div class="mb-3">
                            <label for="roomAddress" class="form-label">Address:</label>
                            <input type="text" id="roomAddress" class="form-control" value="<%= room.address %>" disabled>
                        </div>
                        <div class="mb-3">
                            <label for="roomDuration" class="form-label">Duration:</label>
                            <input type="number" id="roomDuration" class="form-control" value="<%= room.sessionDuration %>" disabled>
                        </div>
                        <div class="mb-3">
                            <label for="roomPlayerLimits" class="form-label">Player Limits:</label>
                            <input type="text" id="roomPlayerLimits" class="form-control" value="<%= room.playerLimits.min %> - <%= room.playerLimits.max %>" disabled>
                        </div>
                    </form>
                    <h6 class="mt-4">Actors in this room:</h6>
                    <ul class="list-group">
                        <% if (room.actors && room.actors.length > 0) { %>
                            <% room.actors.forEach(function(actor) { %>
                                <li class="list-group-item"><%= actor.name %></li>
                            <% }); %>
                        <% } else { %>
                            <li class="list-group-item">No actors assigned</li>
                        <% } %>
                    </ul>
                    <div class="mt-4">
                        <label for="roomDescription" class="form-label">Description:</label>
                        <textarea id="roomDescription" class="form-control" rows="3" disabled><%= room.description %></textarea>
                    </div>
                    <div id ="actions" class="d-flex justify-content-start mb-4 mt-3" room="<%= JSON.stringify(room) %>">
                        <button id="editBtn" class="btn btn-primary me-2">Edit</button>
                        <button id="saveBtn" class="btn btn-success d-none me-2">Save</button>
                        <button id="deleteBtn" class="btn btn-danger">Delete</button>
                    </div>
                </div>
                <div class="container mt-4 py-5">
                    <div id='calendar' data-schedule='<%- schedule %>'></div>
                </div>
            </main> 
            
            <script src="/js/calendar.js"></script>
            <script src="/js/room.js"></script>
            <%- include('layouts/bookingModalForm'); -%>
            <%- include('layouts/scripts'); -%>
        </body>
</html>